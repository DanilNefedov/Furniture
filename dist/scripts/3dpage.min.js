
import*as THREE from'three';import{OrbitControls}from'OrbitControls';import{GLTFLoader}from'GLTFLoader';import{RectAreaLightUniformsLib}from'RectAreaLightUniformsLib';function init(){let wrapper=document.querySelector('.wrapper');const scene=new THREE.Scene()
scene.background=new THREE.Color(0xffffff);const camera=new THREE.PerspectiveCamera(50,window.innerWidth/window.innerHeight,0.1,200);camera.position.set(1,1,1)
const renderer=new THREE.WebGLRenderer({antialias:true})
renderer.setSize(window.innerWidth,window.innerHeight)
wrapper.appendChild(renderer.domElement)
let plain;{plain=new THREE.Mesh(new THREE.PlaneGeometry(1000,1000),new THREE.MeshBasicMaterial({color:"#ffffff"}))
plain.reciveShadow=true;plain.position.set(0,-1,0)
plain.rotateX(-Math.PI/2);scene.add(plain)}
{const loader=new GLTFLoader();loader.load('model/scene.gltf',gltf=>{scene.add(gltf.scene);},function(error){console.log('Error: '+error)})}
{const light=new THREE.AmbientLight(0xFFFFFF,0.8);scene.add(light);}
{const directionalLight=new THREE.DirectionalLight(0x000000,0.6);scene.add(directionalLight);}
{const light=new THREE.HemisphereLight(0xffffff,0x000000,0.5);scene.add(light);}
{const light=new THREE.DirectionalLight(0xFFFFFF,0.2)
light.position.set(-1,0,1)
light.lookAt(0,-1,0)
scene.add(light)}
RectAreaLightUniformsLib.init();{const rectLight=new THREE.RectAreaLight(0xffffff,0.9,200,200);rectLight.position.set(-10,0,0)
rectLight.rotation.y=Math.PI+Math.PI/4;scene.add(rectLight)}
const controls=new OrbitControls(camera,renderer.domElement);controls.autoRotate=true;controls.autoRotateSpeed=5;controls.enableDamping=true;window.addEventListener('resize',onWindowResize,false)
function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight;camera.updateProjectionMatrix();renderer.setSize(window.innerWidth,window.innerHeight)}
function animate(){requestAnimationFrame(animate)
renderer.render(scene,camera)}
animate()}
init()