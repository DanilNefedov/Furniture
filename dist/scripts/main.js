const menu=document.getElementById("menu"),nav=document.getElementById("nav"),rotate=document.getElementById("rotate"),widthWind=window.screen.width,slider=document.getElementById("slider"),slide=document.getElementById("cont-slide"),widthImg=document.getElementById("width-img"),dot=document.getElementsByClassName("pag-main-swiper");let widthElem,position=0,positionX1=null,positionY1=null;const sliderRoom=document.getElementById("slider-room"),slideRoom=document.getElementsByClassName("rooms-swiper__elem"),dotRoom=document.getElementsByClassName("dot-room"),roomSwiperImg=document.getElementById("room-swiper-img");let positionRoom=0;const carouselSlide=document.getElementById("wrapper-slider"),carouselElem=document.querySelectorAll(".tip-trik-swiper__slide"),dotTipTrik=document.getElementsByClassName("dot-tip-trik"),tipTrikContainer=document.getElementById("tip-trik"),prevBtn=document.getElementById("prev"),nextBtn=document.getElementById("next");let counter=1,widthElemTipTrik=carouselElem[0].offsetWidth,positionTipTrikX1=null,positionTipTrikY1=null;const furnituraImg=document.getElementById("furnitura-img"),svg=document.getElementById("svg"),account=document.getElementById("account"),heart=document.getElementById("heart"),cart=document.getElementById("cart");let openAcc=!1;function open(t){t.preventDefault(),menu.classList.toggle("active"),nav.classList.toggle("act-nav"),rotate.classList.toggle("rotate-active"),document.body.classList.toggle("scroll"),document.querySelector(".main-swiper").classList.toggle("stop-click"),document.querySelector(".top").classList.toggle("stop-click"),document.querySelector(".head-search").classList.toggle("stop-click"),document.querySelector("#main-hover-about").classList.toggle("stop-click"),account.classList.toggle("stop-click"),heart.classList.toggle("stop-click"),cart.classList.toggle("stop-click")}function startMove(t){const i=t.touches[0];positionX1=i.clientX,positionY1=i.clientY}function moveTouch(t){if(!positionX1||!positionY1)return t.cancelable&&t.preventDefault(),!1;let i=t.touches[0].clientX,e=t.touches[0].clientY,o=i-positionX1,s=e-positionY1;if(Math.abs(o)>Math.abs(s))if(o<0){if(position>-2*widthElem){position-=widthElem,console.log("r"),slide.style.cssText=`transform: translate3d(${position}px, 0px, 0px);\n\t\t\t\ttransition-duration: 1195ms;`;for(let t=0;t<dot.length;t++)if(dot[t].classList.contains("active-pag"))return console.log(dot[t].classList),dot[t].classList.remove("active-pag"),dot[t+1].classList.add("active-pag"),positionX1=null,void(positionY1=null)}}else if(position<1*widthElem){position+=widthElem,slide.style.cssText=`transform: translate3d(${position}px, 0px, 0px);\n\t\t\t\ttransition-duration: 1195ms;`;for(let t=0;t<dot.length;t++)dot[t].classList.contains("active-pag")&&dot[t-1].classList.add("active-pag"),dot[t].classList.remove("active-pag")}positionX1=null,positionY1=null}function transformElement(){for(let t=0;t<dotRoom.length;t++)slideRoom[t].classList.remove("active-elem-room"),dotRoom[t].classList.contains("active-pag")&&slideRoom[t].classList.add("active-elem-room")}function startMoveTipTrik(t){const i=t.touches[0];positionTipTrikX1=i.clientX,positionTipTrikY1=i.clientY}function moveTouchTipTrik(t){if(!positionTipTrikX1||!positionTipTrikY1)return t.cancelable&&t.preventDefault(),!1;let i=t.touches[0].clientX,e=t.touches[0].clientY,o=i-positionTipTrikX1,s=e-positionTipTrikY1;if(Math.abs(o)>Math.abs(s))if(o<0){if(counter>=carouselElem.length-1)return;counter++,carouselSlide.style.cssText=`transform: translate3d(${-widthElemTipTrik*counter}px, 0px, 0px);\n\t\t\ttransition-duration: 695ms;`;for(let t=0;t<dotTipTrik.length;t++){let i=dotTipTrik.length;if(dotTipTrik[t].classList.contains("active-pag")){if(!dotTipTrik[i-1].classList.contains("active-pag"))return dotTipTrik[t].classList.remove("active-pag"),dotTipTrik[t+1].classList.add("active-pag"),positionTipTrikX1=null,void(positionTipTrikY1=null);dotTipTrik[t].classList.remove("active-pag"),dotTipTrik[0].classList.add("active-pag")}}}else{if(counter<=0)return;counter--,carouselSlide.style.cssText=`transform: translate3d(${-widthElemTipTrik*counter}px, 0px, 0px);\n\t\t\ttransition-duration: 695ms;`;for(let t=dotTipTrik.length-1;t>=0;t--){let i=dotTipTrik.length;if(dotTipTrik[t].classList.contains("active-pag")){if(!dotTipTrik[0].classList.contains("active-pag"))return dotTipTrik[t-1].classList.add("active-pag"),dotTipTrik[t].classList.remove("active-pag"),positionTipTrikX1=null,void(positionTipTrikY1=null);dotTipTrik[t].classList.remove("active-pag"),dotTipTrik[i-1].classList.add("active-pag")}}}positionTipTrikX1=null,positionTipTrikY1=null}function tipTrikPagination(t){let i=t.target.dataset.dotTipTrik;counter=Number(i)+1;for(let t=0;t<dotTipTrik.length;t++)dotTipTrik[t].classList.remove("active-pag"),dotTipTrik[i].classList.add("active-pag"),carouselSlide.style.cssText=`transform: translate3d(${-widthElemTipTrik*counter}px, 0px, 0px);\n\t\ttransition-duration: 695ms;`}function addHoverImg(t,i,e,o,s){furnituraImg.removeChild(furnituraImg.firstChild);let n=new URLSearchParams(window.location.search);return n.append("idProduct",`${t}`),`<a href="pages/3d-page.html?${n.toString()}" target="_blank"><img src="img/fur-${t}.jpg" alt="furnitura" id="asd" class="furnitura-hover-img" \n\t\tstyle = "top:${Math.floor(i)}px; right:${Math.floor(e)}px; \n\t\twidth:${Math.floor(o)}px; height:${Math.floor(s)}px;"/></a>`}window.onload=function(){document.getElementById("preloader").style.display="none",widthElem=widthImg.offsetWidth+32},menu.addEventListener("click",open),window.addEventListener("resize",(function(){if(!(innerWidth>=1e3&&nav.classList.contains("act-nav")))return!1;nav.classList.remove("act-nav"),menu.classList.remove("active"),document.body.classList.remove("scroll")})),slide.addEventListener("touchstart",startMove),slide.addEventListener("touchmove",moveTouch),slider.onclick=function(t){let i=t.target,e=i.dataset.slide;if(i.classList.contains("main-swiper__dot")){for(let t=0;t<dot.length;t++)dot[t].classList.remove("active-pag");i.classList.add("active-pag"),"0"===e?(position=widthElem,slide.style.cssText=`transform: translate3d(${position}px, 0px, 0px);\n\t\t\ttransition-duration: 1195ms;`):e>1?(position=widthElem*(1-e),slide.style.cssText=`transform: translate3d(${position}px, 0px, 0px);\n\t\t\ttransition-duration: 1195ms;`):(position=0,slide.style.cssText=`transform: translate3d(${position}px, 0px, 0px);\n\t\t\ttransition-duration: 1195ms;`)}if(i.classList.contains("arrow")||(i.tagName="SVG")||(i.tagName="PATH"))if(i.classList.contains("left")&&position<1*widthElem){position+=widthElem;for(let t=0;t<dot.length;t++)dot[t].classList.contains("active-pag")&&dot[t-1].classList.add("active-pag"),dot[t].classList.remove("active-pag");slide.style.cssText=`transform: translate3d(${position}px, 0px, 0px);\n\t\t\ttransition-duration: 1195ms;`}else{if(!(i.classList.contains("right")&&position>-2*widthElem))return;position-=widthElem,slide.style.cssText=`transform: translate3d(${position}px, 0px, 0px);\n\t\t\ttransition-duration: 1195ms;`;for(let t=0;t<dot.length;t++)if(dot[t].classList.contains("active-pag"))return dot[t].classList.remove("active-pag"),void dot[t+1].classList.add("active-pag")}},sliderRoom.onclick=function(t){let i=t.target,e=i.dataset.room,o=roomSwiperImg.offsetWidth+25;if(i.classList.contains("dot-room")){for(let t=0;t<dotRoom.length;t++)dotRoom[t].classList.remove("active-pag");if(i.classList.add("active-pag"),transformElement(),e>0){positionRoom=o*-e;for(let t=0;t<slideRoom.length;t++)slideRoom[t].style.cssText=`transform: translate3d(${positionRoom}px, 0px, 0px);\n\t\t\t\ttransition-duration: 1195ms;`}else if("0"===e){positionRoom=0;for(let t=0;t<slideRoom.length;t++)slideRoom[t].style.cssText=`transform: translate3d(${positionRoom}px, 0px, 0px);\n\t\t\t\ttransition-duration: 1195ms;`}}if(i.classList.contains("arrow")||(i.tagName="SVG")||(i.tagName="PATH"))if(i.classList.contains("left")&&Math.floor(-positionRoom)>=Math.floor(o)){positionRoom+=o;for(let t=0;t<slideRoom.length;t++)slideRoom[t].style.cssText=`transform: translate3d(${positionRoom}px, 0px, 0px);\n\t\t\t\ttransition-duration: 1195ms;`;for(let t=dotRoom.length-1;t>=0;t--)if(dotRoom[t].classList.contains("active-pag")&&t>0)return dotRoom[t-1].classList.add("active-pag"),dotRoom[t].classList.remove("active-pag"),void transformElement()}else{if(!(i.classList.contains("right")&&Math.floor(positionRoom)>=Math.floor(-2*o)))return;positionRoom-=o;for(let t=0;t<slideRoom.length;t++)slideRoom[t].style.cssText=`transform: translate3d(${positionRoom}px, 0px, 0px);\n\t\t\t\ttransition-duration: 1195ms;`;for(let t=0;t<dotRoom.length;t++)if(dotRoom[t].classList.contains("active-pag")&&t<3)return dotRoom[t].classList.remove("active-pag"),dotRoom[t+1].classList.add("active-pag"),void transformElement()}},carouselSlide.style.cssText=`transform: translate3d(${-widthElemTipTrik*counter}px, 0px, 0px);`,carouselSlide.addEventListener("touchstart",startMoveTipTrik,!1),carouselSlide.addEventListener("touchmove",moveTouchTipTrik,!1),nextBtn.addEventListener("click",(()=>{if(!(counter>=carouselElem.length-1)){counter++,carouselSlide.style.cssText=`transform: translate3d(${-widthElemTipTrik*counter}px, 0px, 0px);\n\ttransition-duration: 695ms;`;for(let t=0;t<dotTipTrik.length;t++){let i=dotTipTrik.length;if(dotTipTrik[t].classList.contains("active-pag")){if(!dotTipTrik[i-1].classList.contains("active-pag"))return dotTipTrik[t].classList.remove("active-pag"),void dotTipTrik[t+1].classList.add("active-pag");dotTipTrik[t].classList.remove("active-pag"),dotTipTrik[0].classList.add("active-pag")}}}})),prevBtn.addEventListener("click",(()=>{if(!(counter<=0)){counter--,carouselSlide.style.cssText=`transform: translate3d(${-widthElemTipTrik*counter}px, 0px, 0px);\n\ttransition-duration: 695ms;`;for(let t=dotTipTrik.length-1;t>=0;t--){let i=dotTipTrik.length;if(dotTipTrik[t].classList.contains("active-pag")){if(!dotTipTrik[0].classList.contains("active-pag"))return dotTipTrik[t-1].classList.add("active-pag"),void dotTipTrik[t].classList.remove("active-pag");dotTipTrik[t].classList.remove("active-pag"),dotTipTrik[i-1].classList.add("active-pag")}}}})),carouselSlide.addEventListener("transitionend",(()=>{"last-clone"===carouselElem[counter].id&&(carouselSlide.style.transitionDelay="none",counter=carouselElem.length-2,carouselSlide.style.cssText=`transform: translate3d(${-widthElemTipTrik*counter}px, 0px, 0px);`),"first-clone"===carouselElem[counter].id&&(carouselSlide.style.transitionDelay="none",counter=carouselElem.length-counter,carouselSlide.style.cssText=`transform: translate3d(${-widthElemTipTrik*counter}px, 0px, 0px);`)})),furnituraImg.addEventListener("mouseover",(t=>{if(t.target.dataset.index&&"furnitura-img"!=t.target.id&&"svg"!=t.target.id){let i=t.target.dataset.index,e=t.target.getBoundingClientRect().top-furnituraImg.getBoundingClientRect().top,o=furnituraImg.getBoundingClientRect().right-t.target.getBoundingClientRect().right,s=t.target.getBoundingClientRect().width,n=t.target.getBoundingClientRect().height;furnituraImg.insertAdjacentHTML("afterbegin",addHoverImg(i,e,o,s,n))}})),account.addEventListener("click",(()=>{let t=this.innerWidth;openAcc&&t<=580?(heart.style.cssText="transform: translate(0, 0);\n\t\ttransition: .3s;",cart.style.cssText="transform: translate(0, 0);\n\t\ttransition: .3s;",openAcc=!1):t<=580&&(heart.style.cssText="transform: translate(-35px, 40px);\n\t\ttransition: .3s",cart.style.cssText="transform: translate(35px, 40px);\n\t\ttransition: .3s;\n\t\ttop:-2px",openAcc=!0)}));